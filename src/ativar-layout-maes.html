<!DOCTYPE html>
<html>
<head>
    <title>Ativar Layout Dia das M√£es</title>
</head>
<body>
    <h1>üå∏ Ativando Layout Dia das M√£es...</h1>
    <p id="status">Processando...</p>
    
    <script src="js/data-manager.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        try {
            console.log('üå∏ Iniciando ativa√ß√£o do layout Dia das M√£es...');
            
            // Ativar layout Dia das M√£es
            if (window.dataManager) {
                const success = window.dataManager.activateLayout('diadasMaes');
                
                if (success) {
                    document.getElementById('status').innerHTML = '‚úÖ Layout Dia das M√£es ativado com sucesso!';
                    console.log('‚úÖ Layout ativado:', window.dataManager.getCurrentLayout());
                    
                    // Notificar outras p√°ginas
                    if ('BroadcastChannel' in window) {
                        const channel = new BroadcastChannel('layout-changes');
                        channel.postMessage({
                            type: 'layoutChanged',
                            layout: window.dataManager.getCurrentLayout()
                        });
                        channel.close();
                    }
                    
                    // Salvar notifica√ß√£o no localStorage
                    localStorage.setItem('layoutChangeNotification', JSON.stringify({
                        timestamp: Date.now(),
                        layout: window.dataManager.getCurrentLayout()
                    }));
                    
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 2000);
                } else {
                    document.getElementById('status').innerHTML = '‚ùå Erro ao ativar layout';
                }
            } else {
                document.getElementById('status').innerHTML = '‚ùå DataManager n√£o encontrado';
            }
        } catch (e) {
            console.error('Erro:', e);
            document.getElementById('status').innerHTML = '‚ùå Erro: ' + e.message;
        }
    });
    </script>
</body>
</html>
